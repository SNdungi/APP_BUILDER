<!--extending from base-->
{% extends "base.html" %}
{% block content%}


<!--navigation section for models.html-->
<section id="section_{model_name}" class="main-wrapper">
<div  class=" row my-4 p-3 ">
	<div class="col-12">
		<div class="custom-block bg-white">
			<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="nav-item" role="presentation">
						<button class="nav-link active" id="create-tab" data-bs-toggle="tab" data-bs-target="#create-tab-pane" type="button" role="tab" aria-controls="create-tab-pane" aria-selected="true">Create</button>
					</li>

					<li class="nav-item" role="presentation">
						<button class="nav-link" id="view-tab" data-bs-toggle="tab" data-bs-target="#view-tab-pane" type="button" role="tab" aria-controls="view-tab-pane" aria-selected="false">View</button>
					</li>
			</ul>

<!--navigation tab content-->
			<div class="tab-content" id="myTabContent">

<!--create section-->				
				<div class="tab-pane fade" id="create-tab-pane" role="tabpanel" aria-labelledby="create-tab" tabindex="0">
					<h6 class="mb-4">Create</h6>
					<form class="custom-form password-form" action="#" method="post" role="form">
<!--loop over column name,type and create inputs with column_name place holders-->						
							{ for column_name,column_type in model.columns }

							{ .join }		<input type={column_name_type} name={column_name} id= "create_{column_name}"  class="form-control" placeholder= {column_name} required="">

							<div class="d-flex">

								<button type="submit" class="form-control ms-2">
									create
								</button>
							</div>
					</form>
				</div>

<!--view section -->
				<div class="tab-pane fade show active" id="view-tab-pane" role="tabpanel" aria-labelledby="view-tab" tabindex="0">
					{.join } <h6>{Model_column}</h6>
					<form id="search-form" class="custom-form profile-form" >
<!--search section placeholder is the search_column -->							
						{ .join } <input class="form-control" type="text" id=search_{search_column} name={search_column}  placeholder={search_column}  required> 
						<button type="submit" class="form-control ms-2">
							Search
						</button>

						<hr>
						<div class=" row my-4">
							<div class="col-lg-12 col-12 ">
								<div class="custom-block ">
									<div id="columns">
										<hr>
									
									<div class="table-responsive">
									<table class="account-table table" id="columns">
										<thead>
											<tr>
<!--search results loop through column names and add headers that correspond to column names in the model-->
												{.join} <th>{column_name}</th>

											</tr>
										</thead>
										<tbody>
											<tr>
												{.join} <td>{column_value}</td>

											</tr>
										</tbody>
									</table>
									</div>
								</div>
								</div>
							</div>
						</div>
					</form>
				</div>

<!--edit section -->
				<div class="tab-pane fade show active" id="view-tab-pane" role="tabpanel" aria-labelledby="view-tab" tabindex="0">
					{.join } <h6>{Model_column}</h6>
					<form id="search-form" class="custom-form profile-form" >
							
						{ .join } <input class="form-control" type="text" id="search" name="search"  placeholder="search-by" value={search_column} required> 
						<button type="submit" class="form-control ms-2">
							Search
						</button>
					</form>

						<hr>
					<form id="search-data">
						
						<div class=" row my-4">
							<div class="col-lg-12 col-12 ">
								<div class="custom-block ">
									<div id="columns">
										<hr>
									
									<div class="table-responsive">
									<table class="account-table table" id="columns">
										<thead>
											<tr>
												{.join} <th>{column_name}</th>

											</tr>
										</thead>
										<tbody>
											<tr>
												{.join} <td> <input id="edit_{column_name}" name="column_name" placeholder={column_value}> </td>

											</tr>
										</tbody>
									</table>
									</div>
								</div>

									<div class="d-flex justify-content-between mt-5">
										<button type="button" class="btn custom-btn me-3" onclick="addColumn()"> Edit  </button>
										<button type="button" class="btn custom-btn me-3" onclick="addColumn()"> Edit  </button>
									</div>
								</div>
							</div>
						</div>
					</form>
				</div>

			</div>
		</div>
	</div>
</div>
</section>